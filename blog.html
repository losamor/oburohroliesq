<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Albert+Sans:ital,wght@0,100..900;1,100..900&family=Black+Han+Sans&family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Instrument+Sans:ital,wght@0,400..700;1,400..700&family=Martel+Sans:wght@200;300;400;600;700;800;900&family=Mona+Sans:ital,wght@0,200..900;1,200..900&family=Pixelify+Sans:wght@400..700&family=Questrial&family=Racing+Sans+One&family=Smooch+Sans:wght@100..900&family=Vina+Sans&display=swap" rel="stylesheet">
    <title>Blog | Oburoh Roli ESQ</title>
</head>
<body>
    <header>
        <nav class="main-nav">
            <a href="index.html" class="logo">oburohroli</a>
            <ul class="nav-links">
                <li><a href="index.html#about-me">About Me</a></li>
                <li><a href="blog.html">Blog</a></li>
                <li><a href="index.html#contact">Contact</a></li>
            </ul>
        </nav>
    </header>

    <section class="blog-hero">
        <h1 class="blog-title">My Blog</h1>
    </section>

    <section class="featured-section">
        <div class="section-header">
            <h2 class="section-title">Featured Posts</h2>
        </div>
        <div class="posts-grid">
            <!-- Featured Post 1 -->
            <article class="post-card featured">
                <img src="images/iklas-WpFZu1CGBNc-unsplash.jpg" alt="Featured post image">
                <div class="post-content">
                    <span class="post-tag">Featured</span>
                    <h3>My Journey as an Author</h3>
                    <p class="post-excerpt">Discover how I published 19 books across 36,000 resellers worldwide...</p>
                    <div class="post-meta">
                        <span class="date">January 15, 2026</span>
                        <span class="read-time">5 min read</span>
                    </div>
                    <a href="posts/my-journey.html" class="read-more">
                        Read More 
                        <span class="material-symbols-outlined">east</span>
                    </a>
                </div>
            </article>

            <!-- Featured Post 2 -->
            <article class="post-card featured">
                <img src="images/iklas-WpFZu1CGBNc-unsplash.jpg" alt="Featured post image">
                <div class="post-content">
                    <span class="post-tag">Featured</span>
                    <h3>Legal Practice in Nigeria</h3>
                    <p class="post-excerpt">Insights from years of legal practice and what aspiring lawyers should know...</p>
                    <div class="post-meta">
                        <span class="date">January 10, 2026</span>
                        <span class="read-time">7 min read</span>
                    </div>
                    <a href="posts/legal-practice.html" class="read-more">
                        Read More 
                        <span class="material-symbols-outlined">east</span>
                    </a>
                </div>
            </article>

            <!-- Featured Post 3 -->
            <article class="post-card featured">
                <img src="images/iklas-WpFZu1CGBNc-unsplash.jpg" alt="Featured post image">
                <div class="post-content">
                    <span class="post-tag">Featured</span>
                    <h3>Writing for Education</h3>
                    <p class="post-excerpt">How my books became approved by the Ministry of Education...</p>
                    <div class="post-meta">
                        <span class="date">December 28, 2025</span>
                        <span class="read-time">6 min read</span>
                    </div>
                    <a href="posts/writing-education.html" class="read-more">
                        Read More 
                        <span class="material-symbols-outlined">east</span>
                    </a>
                </div>
            </article>
        </div>
    </section>

    <section class="featured-section">
        <div class="section-header">
            <h2 class="section-title">Latest Posts</h2>
        </div>
        
        <!-- This is where Netlify CMS posts will appear -->
        <div class="posts-grid" id="netlify-posts">
            <div class="loading">Loading posts...</div>
        </div>
    </section>

    <script>
      atOptions = {
        'key' : 'c2c43241ed943052a8b9a147c93f5d1f',
        'format' : 'iframe',
        'height' : 250,
        'width' : 300,
        'params' : {}
      };
    </script>
    <script src="https://www.highperformanceformat.com/c2c43241ed943052a8b9a147c93f5d1f/invoke.js"></script>
    
    <section class="contact" id="contact">
        <div class="contact-header">
            <h2 class="section-title">Contact Me</h2>
        </div>
        <div class="contact-description">
            <p>Want to keep in touch with me? You can follow me on my social platforms or reach out directly. Whether you have questions about my work, want to discuss potential collaborations, or just want to say hello, feel free to connect with me.</p>
        </div>
        <div class="social-links">
            <ul>
                <li><a href="https://youtube.com/@rolioburohesq?si=kaZKsWVXUnhFWCAo" target="_blank">YouTube</a></li>
                <li><a href="https://x.com/RoliKimOburoh?t=WBztLPQNu8M1DOZpxY1r7Q&s=09" target="_blank">X (formerly Twitter)</a></li>
                <li><a href="https://www.instagram.com/tesigiwa?igsh=MTdjc3VhZnd2Z2Y4YQ==" target="_blank">Instagram</a></li>
                <li><a href="mailto:oburohroli94@gmail.com">Email</a></li>
            </ul>
        </div>
        <div class="footer">
            <p class="copyright">¬© 2026 Oburoh Roli ESQ. All rights reserved.</p>
            <ul class="footer-links">
                <li><a href="index.html#about-me">About Me</a></li>
                <li><a href="blog.html">Blog</a></li>
                <li><a href="index.html#contact">Contact</a></li>
            </ul>
        </div>
    </section>

    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getDatabase, ref, get } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js';

        const firebaseConfig = {
          apiKey: "AIzaSyDtgnUntN-duJcWNMEw_fQY35WfUi7KQho",
          authDomain: "oburohroliesq.firebaseapp.com",
          databaseURL: "https://oburohroliesq-default-rtdb.europe-west1.firebasedatabase.app",
          projectId: "oburohroliesq",
          storageBucket: "oburohroliesq.firebasestorage.app",
          messagingSenderId: "34953233103",
          appId: "1:34953233103:web:c7aff419ffbf18e6fcadba",
          measurementId: "G-X8ZFN95W7J"
        };

        let firebaseInitialized = false;
        let database = null;
        
        try {
            const app = initializeApp(firebaseConfig);
            database = getDatabase(app);
            firebaseInitialized = true;
        } catch (error) {
            console.error('Firebase initialization error:', error);
        }

        window.getViewCount = async function(postSlug) {
            if (!firebaseInitialized) return 0;
            const viewRef = ref(database, 'views/' + postSlug);
            try {
                const snapshot = await get(viewRef);
                return snapshot.val() || 0;
            } catch (error) {
                return 0;
            }
        };

        window.getLikeCount = async function(postSlug) {
            if (!firebaseInitialized) return 0;
            const likeRef = ref(database, 'likes/' + postSlug);
            try {
                const snapshot = await get(likeRef);
                return snapshot.val() || 0;
            } catch (error) {
                return 0;
            }
        };
    </script>

    <script>
        async function loadNetlifyPosts() {
            try {
                const response = await fetch('https://api.github.com/repos/losamor/oburohroliesq/contents/posts');
                if (!response.ok) throw new Error('Unable to fetch posts');
                
                const files = await response.json();
                const mdFiles = files.filter(file => file.name.endsWith('.md'));
                
                const posts = await Promise.all(
                    mdFiles.map(async (file) => {
                        const contentResponse = await fetch(file.download_url);
                        const content = await contentResponse.text();
                        const frontMatterMatch = content.match(/^---\n([\s\S]*?)\n---/);
                        if (!frontMatterMatch) return null;
                        
                        const frontMatter = {};
                        frontMatterMatch[1].split('\n').forEach(line => {
                            const [key, ...valueParts] = line.split(':');
                            if (key && valueParts.length) {
                                frontMatter[key.trim()] = valueParts.join(':').trim().replace(/^["']|["']$/g, '');
                            }
                        });
                        
                        const body = content.replace(/^---\n[\s\S]*?\n---\n/, '');
                        const slug = file.name.replace('.md', '');
                        
                        return {
                            slug,
                            title: frontMatter.title || 'Untitled',
                            date: frontMatter.date || new Date().toISOString(),
                            image: frontMatter.image || 'images/iklas-WpFZu1CGBNc-unsplash.jpg',
                            body: body.substring(0, 200) + '...'
                        };
                    })
                );
                
                const validPosts = posts.filter(p => p !== null);
                validPosts.sort((a, b) => new Date(b.date) - new Date(a.date));
                
                const container = document.getElementById('netlify-posts');
                container.innerHTML = '';
                
                for (const post of validPosts) {
                    const viewCount = await window.getViewCount(post.slug);
                    const likeCount = await window.getLikeCount(post.slug);
                    const dateObj = new Date(post.date);
                    const formattedDate = dateObj.toLocaleDateString('en-US', { 
                        year: 'numeric', month: 'long', day: 'numeric' 
                    });
                    
                    const article = document.createElement('article');
                    article.className = 'post-card';
                    article.innerHTML = `
                        <img src="${post.image}" alt="${post.title}">
                        <div class="post-content">
                            <h3>${post.title}</h3>
                            <p class="post-excerpt">${post.body}</p>
                            <div class="post-meta">
                                <span class="date">${formattedDate}</span>
                                <span class="read-time">üëÅ ${viewCount} views</span>
                                <span class="read-time">‚ù§Ô∏è ${likeCount} likes</span>
                            </div>
                            <a href="post.html?slug=${post.slug}" class="read-more">
                                Read More <span class="material-symbols-outlined">east</span>
                            </a>
                        </div>
                    `;
                    container.appendChild(article);
                }
            } catch (error) {
                console.error('Error loading posts:', error);
                document.getElementById('netlify-posts').innerHTML = 
                    '<p class="error-message">Unable to load posts.</p>';
            }
        }
        
        loadNetlifyPosts();
    </script>
    <script>
      atOptions = {
        'key' : '52bb989defa217fd12f9e358eb0a2f55',
        'format' : 'iframe',
        'height' : 300,
        'width' : 160,
        'params' : {}
      };
    </script>
    <script src="https://www.highperformanceformat.com/52bb989defa217fd12f9e358eb0a2f55/invoke.js"></script>
</body>
</html>




